# Research Result for gemini-fast
Sistem Kaynaklarının Gözlemlenebilirliği ve Yönetimi: İşlem ve Disk Denetiminin Teknik MimarisiModern işletim sistemlerinde kaynak yönetimi, donanım katmanı ile kullanıcı uygulamaları arasındaki karmaşık etkileşimin en kritik halkasını oluşturmaktadır. Bir sistem yöneticisi veya yazılım mühendisi için sistemin "sağlık durumu", merkezi işlem birimi (CPU) döngülerinin nasıl tahsis edildiği, rastgele erişimli belleğin (RAM) nasıl haritalandığı ve depolama birimlerindeki verinin nasıl organize edildiği ile doğrudan ilişkilidir. Bu rapor, işlem yönetimi ve disk denetimi teknolojilerinin temel çalışma prensiplerini, endüstriyel standartlarını, mevcut açık kaynaklı çözümleri, kritik yapılandırma parametrelerini ve güvenlik protokollerini teknik bir derinlikle ele almaktadır.Sistem Kaynaklarının Gözlemlenebilirliği ve Veri Toplama Mekanizmalarıİşlem yönetimi ve disk denetimi araçlarının işlevselliği, işletim sistemi çekirdeğinin (kernel) sunduğu telemetri verilerine dayanır. Bu verilerin toplanması, donanımdan soyutlanmış bir arayüz aracılığıyla gerçekleştirilir. Windows ve Linux gibi yaygın işletim sistemleri, bu verileri sunmak için kökten farklı mimariler kullanmaktadır.Windows Yönetim Araçları ve WMI AltyapısıWindows ekosisteminde, sistem kaynaklarının izlenmesi ve yönetilmesi için temel çerçeve Windows Yönetim Araçları (WMI - Windows Management Instrumentation) olarak adlandırılır.1 WMI, donanım ve yazılım bileşenleri arasında evrensel bir çevirmen görevi görerek, uygulamaların ve betiklerin sistem durumu hakkında sorgulama yapmasına olanak tanır.1 Bu altyapı, yönetici uygulamaların işlem listelerini almasını, CPU kullanımını sorgulamasını ve ağ yapılandırmalarını denetlemesini sağlar.1WMI mimarisi, birkaç kritik bileşenden oluşur. WMI servisi (Winmgmt), sağlayıcılar (providers) ve yönetim uygulamaları arasında bir aracı olarak çalışır.2 Dinamik veriler, gerçek zamanlı olarak WMI sağlayıcıları aracılığıyla toplanır.2 Örneğin, bir işlemin CPU tüketimi sorgulandığında, WMI sağlayıcısı çekirdek verilerine erişir ve bu bilgiyi WMI servisi üzerinden talep eden araca iletir.3 WMI Sağlayıcı Ana Bilgisayarı (WmiPrvSE.exe), bu sorguların fiziksel olarak yürütüldüğü işlemdir.3 Yanlış yapılandırılmış sorgular veya kötü niyetli yazılımlar, bu sürecin aşırı CPU tüketmesine neden olabilir; bu gibi durumlarda Event Viewer (Olay Görüntüleyicisi) üzerinden ClientProcessId takibi yapılarak soruna neden olan uygulama tespit edilmelidir.3Linux /proc Dosya Sistemi ve Çekirdek TelemetrisiLinux ve diğer POSIX uyumlu sistemlerde, işlem verilerine erişim genellikle /proc adı verilen sanal bir dosya sistemi üzerinden sağlanır.5 Bu sistemde, her çalışan işlem kendi Process ID (PID) numarasıyla adlandırılan bir dizin altında temsil edilir.6 Örneğin, /proc/[pid]/stat dosyası işlemin CPU kullanım sürelerini, /proc/[pid]/smaps dosyası ise belleğin fiziksel ve sanal haritalamasını içeren detaylı veriler sunar.5Modern Linux izleme araçları (btop, htop gibi), bu dosyaları periyodik olarak okuyarak (polling) sistemin anlık görüntüsünü oluşturur.5 Bu yaklaşım, Windows'un olay tabanlı veya yapılandırılmış sorgu modelinden farklı olarak, sürekli bir veri akışı ve parsing (ayrıştırma) işlemi gerektirir.İşlem Sıralama ve Bellek Yönetimi AlgoritmalarıBir görev yöneticisinin en temel gereksinimlerinden biri, kaynak kullanımına göre işlemleri anlık olarak sıralayabilmektir. Bu işlem, hem veri yapılarının etkin kullanımını hem de istatistiksel metriklerin doğru yorumlanmasını gerektirir.CPU Kullanım Metriklerinin AnaliziCPU kullanımı, bir işlemcinin belirli bir zaman aralığında boşta kalmadığı sürenin toplam süreye oranı olarak tanımlanır. Görev yöneticileri bu veriyi sunarken şu metrikleri dikkate alır:MetrikTanımTeknik ÖnemKullanıcı Süresi (User Time)İşlemin kullanıcı modunda (user-space) harcadığı CPU süresi.Uygulama kodunun verimliliğini gösterir.Sistem Süresi (System Time)Çekirdek modunda (kernel-space) sistem çağrıları için harcanan süre.I/O yoğunluğunu veya sürücü sorunlarını işaret edebilir.Toplam CPU %İşlemin tüm çekirdekler üzerindeki toplam kullanım oranı.Sistemin darboğazlarını tespit etmek için temel metriktir.8İşlemlerin CPU kullanımına göre sıralanması genellikle bir öncelik kuyruğu (priority queue) yapısı üzerinden gerçekleştirilir. Sürekli değişen veriler söz konusu olduğunda, her güncelleme döngüsünde (örneğin 1 saniye) listenin yeniden sıralanması gerekir.RAM Tüketim Modelleri ve SıralamaBellek kullanımı, yalnızca tek bir sayıdan ibaret değildir. Profesyonel araçlar, belleği şu kategorilere ayırarak sunar:Sanal Bellek (VIRT): İşlemin erişebildiği tüm adres alanını kapsar; paylaşılan kütüphaneler ve diskteki sayfalar dahildir.8Yerleşik Bellek (RES): İşlemin o anda fiziksel RAM üzerinde kapladığı gerçek alanı ifade eder.8Paylaşılan Bellek (SHR): Diğer işlemlerle paylaşılabilecek bellek miktarını gösterir.8Görev yöneticileri, belleğe göre sıralama yaparken genellikle "Resident Set Size" (RES) değerini baz alır, çünkü bu değer sistemin fiziksel kaynakları üzerindeki gerçek yükü en iyi yansıtan göstergedir.5İşlem Sonlandırma (Kill) Mekanizmaları ve Sinyal Yönetimiİşlemlerin sonlandırılması, sistem kaynaklarının geri kazanılması sürecinde başvurulan son çaredir. Bu süreç, işletim sisteminin işleme gönderdiği bir sinyal veya bir API çağrısı ile başlar.POSIX Sinyalleri ve EtkileriLinux tabanlı sistemlerde işlemlerle iletişim sinyaller aracılığıyla kurulur.9 kill komutu, varsayılan olarak bir işleme sonlanma isteği gönderir, ancak bu isteğin nasıl karşılanacağı işlemin türüne bağlıdır.6Sinyal AdıNumaraVarsayılan EylemAçıklamaSIGTERM15SonlandırmaZarif (graceful) sonlandırma isteği. İşlem, temizlik işlemlerini yapabilir.9SIGKILL9SonlandırmaZorunlu sonlandırma. İşlem tarafından yakalanamaz veya engellenemez.9SIGINT2SonlandırmaKesme sinyali (Ctrl+C); genellikle interaktif işlemler için kullanılır.9SIGSTOP19Durdurmaİşlemi askıya alır, ancak bellekten silmez.9En iyi uygulama yöntemi, önce SIGTERM göndererek işlemin verilerini kaydetmesine ve dosya kilitlerini serbest bırakmasına izin vermektir.10 Eğer işlem yanıt vermiyorsa, SIGKILL ile zorla sonlandırma yoluna gidilmelidir.9Windows Alt Sisteminde SonlandırmaWindows'ta işlem sonlandırma, TerminateProcess fonksiyonu aracılığıyla gerçekleştirilir. Bu işlem, Linux'taki SIGKILL'e benzer şekilde, işleme kendisini temizleme şansı vermeden kaynaklarını geri alır.4 WMI üzerinden yapılan sonlandırma işlemleri (örneğin Win32_Process.Terminate metodu), benzer bir mekanizma kullanarak işlemin PID'sine hedef alır.2Disk Doluluk Oranlarının Görselleştirilmesi ve AnaliziDisk yönetimi, depolama alanının hiyerarşik yapısını anlamlandırmayı ve kapasite darboğazlarını görselleştirmeyi amaçlar. Bu alanda iki temel görselleştirme yöntemi endüstri standardı haline gelmiştir: Treemap (Ağaç Haritası) ve Sunburst (Güneş Patlaması).Treemap Algoritmaları ve Alan PaylaşımıBen Shneiderman tarafından geliştirilen Treemap görselleştirmesi, hiyerarşik verileri iç içe geçmiş dikdörtgenler şeklinde sunar.12 Bir dikdörtgenin alanı, temsil ettiği dosya veya dizinin boyutuyla doğrudan orantılıdır.12 Bu yöntem, ekran alanını en verimli şekilde kullanarak binlerce dosyayı tek bir görünümde analiz etmeye olanak tanır.12Görselleştirme ÖzelliğiTreemapSunburstAlan VerimliliğiYüksek; tüm pikseller bilgi taşır.13Orta; dairesel yapı boş alan bırakabilir.13Hiyerarşi AlgısıRenk grupları ve çerçevelerle sağlanır.12Merkezden dışa doğru net bir katman yapısı sunar.14EtkileşimDikdörtgenlere tıklayarak derinleşme (drill-down).14Dilimlere tıklayarak ilgili dizine odaklanma.14MFT Taraması ile Performans OptimizasyonuGeleneksel disk analiz araçları (WinDirStat gibi), dizin yapısını özyinelemeli (recursive) bir şekilde tarayarak her dosyanın boyutunu toplar.16 Ancak bu yöntem, milyonlarca dosyanın bulunduğu modern sistemlerde oldukça yavaştır. WizTree gibi yeni nesil araçlar, NTFS dosya sisteminin kalbi olan Master File Table (MFT) dosyasını doğrudan okur.16MFT, diskteki her dosya ve dizin için meta veriler içeren gizli bir sistem dosyasıdır.18 MFT'yi doğrudan okumak, Windows API çağrılarını ve izin kontrollerini baypas ettiği için tarama hızını 50 kata kadar artırabilir.16 Bu yaklaşımın dezavantajı, ağ sürücüleri (SMB) üzerinde çalışmamasıdır, çünkü MFT yapısı yalnızca yerel dosya sistemine özgüdür.17Büyük Dosyaları Bulma Araçları ve Algoritmik YaklaşımlarBüyük dosyaları bulmak, dosya sisteminin kapsamlı bir şekilde taranmasını ve boyut verilerinin etkin bir şekilde filtrelenmesini gerektirir.Öncelik Kuyrukları ve Sıralama GereksinimleriTüm filesystem (dosya sistemi) verisini belleğe yüklemeden en büyük dosyaları tespit etmek için genellikle bir "Min-Heap" yapısı kullanılır. Yazılım, tarama sırasında her dosyayı kontrol eder; eğer dosya boyutu, o ana kadar bulunan en büyük "N" dosyanın en küçüğünden büyükse, o dosyayı listeye ekler ve heap'i yeniden dengeler. Bu algoritma, bellek kullanımını sabit tutarken (yalnızca N dosya kadar), işlem karmaşıklığını $O(M \log N)$ seviyesinde tutar (M: toplam dosya sayısı, N: aranan büyük dosya sayısı).20Sabit Linkler (Hard Links) ve Seyrek Dosyaların (Sparse Files) HesaplanmasıDisk analizinde en sık yapılan hata, sabit linklerin (hard links) birden fazla kez sayılmasıdır. Sabit linkler, aynı fiziksel veri bloğuna (inode) işaret eden farklı dosya adlarıdır.23 Eğer bir araç bu linkleri bağımsız dosyalar gibi toplarsa, toplam disk doluluğunu gerçekte olduğundan çok daha yüksek gösterebilir.26Profesyonel araçlar, tarama sırasında karşılaştıkları her dosyanın Inode ID (Linux) veya File Index (Windows) bilgisini takip eder.28 Eğer aynı ID daha önce görüldüyse, dosya boyutu toplama dahil edilmez.28 Benzer şekilde, seyrek dosyalar (sparse files), dosya boyutunun büyük görünmesine rağmen diskte çok az yer kapladığı durumları ifade eder.23 Analiz araçları, "Mantıksal Boyut" yerine "Diskteki Boyut" (Size on Disk) metriğini kullanarak doğru doluluk oranını sunmalıdır.30Modern Sistem İzleme Araçlarının Karşılaştırmalı AnaliziPiyasada bulunan açık kaynaklı projeler, farklı kullanım senaryolarına ve kullanıcı tercihlerine hitap etmektedir.İşlem ve Görev YöneticileriProjeDil/AltyapıÖne Çıkan ÖzelliklerEn İyi Kullanım AlanıhtopC (ncurses)Düşük kaynak tüketimi, interaktif işlem yönetimi, renk kodlu barlar.7Hızlı ve pratik sunucu yönetimi.7btopC++Zengin grafiksel arayüz, GPU izleme, geniş tema desteği, tam fare desteği.5Görsel odaklı, derinlemesine sistem analizi.7GlancesPythonWeb tabanlı izleme, API desteği, Docker/Nginx eklentileri.31Uzaktan izleme ve merkezi loglama.31atopCDonanım doygunluk (saturation) analizi, geçmiş verilerin kaydı.32Darboğaz tespiti ve performans hata ayıklama.32Disk Analiz Araçlarıncdu (NCurses Disk Usage): Linux sunucuları için vazgeçilmez bir TUI (Terminal User Interface) aracıdır.33 Hızlı tarama ve dizinler arası kolay geçiş sağlar.35QDirStat: Linux ve Unix sistemler için gelişmiş Treemap görselleştirmesi sunar.36 Yazılım paketlerini (dpkg, rpm) dosya bazında analiz edebilir.36WizTree (Windows): Hız konusunda rakiplerinin çok önündedir; doğrudan MFT erişimi ile saniyeler içinde terabaytlık diskleri tarayabilir.18WinDirStat: Eski ama güvenilir bir açık kaynaklı projedir. Görselleştirmeleri hala standart kabul edilir ancak tarama hızı WizTree'nin gerisindedir.16Kritik Yapılandırma Dosyaları ve Parametre YönetimiSistem izleme araçlarının performansı ve sunduğu verinin doğruluğu, yapılandırma parametrelerine bağlıdır.Yenileme Hızları ve Polling MaliyetiBir izleme aracının verileri güncelleme sıklığı (polling rate), sistem üzerinde ek bir yük oluşturur. htop ve btop gibi araçlarda bu değer genellikle milisaniye cinsinden ayarlanır.5Düşük Gecikme: Daha hassas grafikler sunar ancak işlemciyi sürekli /proc okumaya zorlar.Yüksek Gecikme: Sistem yükünü azaltır ancak anlık CPU piklerini kaçırabilir.Endüstri standardı olarak, sunucu izleme araçlarında 2 ila 5 saniyelik yenileme hızı önerilmektedir.38 Kritik sistemlerde, bu değer anormallik tespiti için daha da düşürülebilir, ancak izleme aracının kendisinin CPU'nun %5'inden fazlasını tüketmemesine dikkat edilmelidir.3Yapılandırma Dosyası Örneklerihtop (~/.config/htop/htoprc): Bu dosya, aktif sütunları, sıralama anahtarını ve grafik stillerini saklar.8 hide_kernel_threads=1 parametresi, kullanıcıların yalnızca kendi süreçlerine odaklanmasını sağlar.40btop (~/.config/btop/btop.conf): proc_info_smaps parametresi, daha doğru bellek verisi için smaps dosyasının okunup okunmayacağını belirler; bu, doğruluğu artırırken tarama hızını düşürür.5Glances (glances.conf): Uyarı eşik değerleri burada tanımlanır. Örneğin, CPU kullanımı %90'ı geçtiğinde "critical" alarmı verilmesi bu dosya üzerinden ayarlanır.41Güvenlik Analizi ve Sistem Sıkılaştırma (Hardening)Sistem kaynaklarını yönetme yetkisi, doğası gereği yüksek güvenlik riskleri taşır. Bir işlemin sonlandırılması veya bellek haritasının okunması, kötü niyetli bir aktör tarafından servis dışı bırakma (DoS) veya veri sızıntısı amacıyla kullanılabilir.Linux Kapasiteleri (Capabilities)Geleneksel olarak, bir aracın işlemleri yönetmesi için root yetkisine sahip olması gerekirdi. Ancak bu, "en az ayrıcalık" (least privilege) ilkesine aykırıdır. Linux çekirdeği, bu yetkileri küçük parçalara ayıran "Capabilities" mekanizmasını sunar.42KapasiteAçıklamaGüvenlik RiskiCAP_KILLİşlemlere sinyal gönderme yetkisi verir.42Herhangi bir servisin durdurulmasına neden olabilir.CAP_SYS_PTRACEİşlemlerin bellek ve durum bilgilerini izleme yetkisi verir.42Süreç enjeksiyonu ve hassas veri sızıntısı riski.45CAP_DAC_OVERRIDEDosya izinlerini baypas ederek okuma/yazma sağlar.42Tüm dosya sistemine sınırsız erişim.Güvenli bir sistemde, izleme araçlarına yalnızca gerekli kapasiteler (örneğin sadece cap_kill) verilerek root yetkisi sınırlandırılmalıdır.44WMI ve DCOM Güvenlik DuvarıWindows ortamında WMI, uzaktan yönetim için DCOM (Distributed COM) protokolünü kullanır. 2021 ve 2022 yıllarında yapılan güncellemelerle Microsoft, DCOM üzerinde kimlik doğrulama sertleştirmesi (hardening) uygulamıştır.46Kritik güvenlik noktaları şunlardır:Paket Bütünlüğü (Packet Integrity): DCOM bağlantılarının kimlik doğrulama seviyesi artık varsayılan olarak RPC_C_AUTHN_LEVEL_PKT_INTEGRITY gerektirir.47 Bu, verinin yolda değiştirilmediğinden emin olunmasını sağlar.Saldırı Yüzeyini Azaltma (ASR) Kuralları: Microsoft Defender, WMI üzerinden kalıcılık (persistence) sağlanmasını veya şüpheli WMI komutlarının çalıştırılmasını engelleyen kurallar içerir.48İmperasyon Seviyeleri (Impersonation): WMI çağrıları yapılırken "Impersonate" veya "Delegate" seviyeleri seçilebilir. "Delegate" seviyesi, kimlik bilgilerinin üçüncü bir makineye aktarılmasına izin verdiği için en riskli seviyedir ve yalnızca mutlak gereklilik halinde kullanılmalıdır.51Veri Yapıları ve Matematiksel ModellerSistem kaynaklarının yönetimi, arka planda karmaşık matematiksel hesaplamalar ve veri yapısı operasyonları barındırır.CPU Yüzdesi Hesaplama ModeliBir işlemin CPU kullanım yüzdesi, genellikle iki örnekleme noktası arasındaki farkın hesaplanmasıyla bulunur.$t_1$ ve $t_2$ zaman noktalarındaki toplam CPU sürelerini ($T$) ve işlemin harcadığı süreleri ($P$) ele alırsak, kullanım oranı ($\%$) şu şekilde ifade edilir:$$\text{CPU \%} = \left( \frac{P_{t_2} - P_{t_1}}{T_{t_2} - T_{t_1}} \right) \times 100 \times N$$Burada $N$, sistemdeki işlemci çekirdeği sayısıdır. Bazı araçlar (htop gibi) bu değeri çekirdek sayısına bölerken, bazıları (top gibi) %100'ün üzerine çıkmasına izin verir.8Disk Kullanımı ve Blok Boyutu İlişkisiDiskteki gerçek doluluk oranı, dosyanın boyutundan ziyade kullanılan blok sayısına bağlıdır. Eğer dosya boyutu $S$ ve dosya sisteminin blok boyutu $B$ ise, dosyanın kapladığı alan $A$ şu şekilde hesaplanır:$$A = \lceil S / B \rceil \times B$$Bu durum, çok sayıda küçük dosyanın bulunduğu dizinlerin, dosya boyutlarının toplamından çok daha fazla disk alanı işgal etmesine neden olur.52 Disk görselleştirme araçları, bu "dahili fragmantasyonu" (internal fragmentation) hesaba katarak doluluk oranını sunmalıdır.Sektörel Standartlar ve Gelecek ProjeksiyonuModern bilişim dünyasında kaynak yönetimi, konteynerizasyon (Docker, Kubernetes) ve bulut bilişimle birlikte yeni bir evreye girmiştir.Konteyner Farkındalığı (Container Awareness)Geleneksel izleme araçları, bir konteyner içinde çalıştıklarında ana makinenin (host) tüm CPU ve RAM verilerini gösterebilir, bu da yanıltıcı sonuçlara yol açar. Modern standartlar, izleme araçlarının cgroups (control groups) verilerini okuyarak yalnızca ilgili konteynerin limitlerini ve kullanımını raporlamasını zorunlu kılar.54EBPF ve Yeni Nesil GözlemlenebilirlikLinux dünyasında eBPF (extended Berkeley Packet Filter) teknolojisi, sistem izleme pratiklerini kökten değiştirmektedir. eBPF, çekirdek kodunu değiştirmeden veya /proc dosya sistemini sürekli taramadan, olay bazlı ve çok düşük maliyetli veri toplanmasına olanak tanır. Gelecekteki görev yöneticilerinin, polling yerine eBPF tabanlı "sıfır yük" (zero overhead) modellerine geçmesi beklenmektedir.Sonuç ve Stratejik Önerilerİşlem ve disk yönetimi, sistem kararlılığının korunmasında ve kaynak maliyetlerinin optimize edilmesinde merkezi bir rol oynamaktadır. Bu raporun bulguları ışığında, profesyonel bir sistem yönetimi stratejisinin şu üç temele dayanması gerektiği sonucuna varılmıştır:Doğru Araç Seçimi: Hız gerektiren durumlarda WizTree gibi MFT tabanlı araçlar, detaylı analiz ve otomasyon gerektiren durumlarda ise Glances veya btop gibi modern, eklenti destekli çözümler tercih edilmelidir.7Güvenlik Odaklı Yetkilendirme: İzleme araçlarına sınırsız yetki vermek yerine, Linux Capabilities ve WMI Namespace Security gibi mekanizmalar kullanılarak ayrıcalıklar sınırlandırılmalıdır.42Metriklerin Doğru Yorumlanması: Ortalama değerler yerine yüzdelik (percentile) analizleri kullanılmalı, özellikle sabit linkler ve seyrek dosyalar gibi disk doluluğunu yanıltabilecek unsurlar analiz sürecine dahil edilmelidir.28Teknolojinin gelişimi, kaynak yönetimini daha otonom ve daha az kaynak tüketen bir yapıya doğru itmektedir. Ancak bu süreçte temel işletim sistemi prensiplerini ve dosya sistemi mimarilerini anlamak, karmaşık sorunların çözümünde en değerli yetkinlik olmaya devam edecektir.
